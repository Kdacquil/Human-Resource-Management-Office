import{a as fe}from"./chunk-X5C7RXXG.js";import{a as me,b as pe,c as ge,e as ue,f as he}from"./chunk-4WP7XK4S.js";import{a as Z,c as $,d as J,e as K,f as X,g as ee,m as te,o as ne,p as oe,q as b,r as le,s as de}from"./chunk-2YXRKEKG.js";import{Ba as ie,C as N,Ca as v,D as g,E as x,Ea as M,I as C,K as f,M as i,N as r,Na as re,O as d,Qa as ae,R as w,S as m,Sa as se,T as p,Ta as ce,U as D,V as z,W as B,Y as a,_ as W,ba as V,ca as T,da as L,e as j,h as H,m as P,n as S,p as h,q as _,qa as U,r as k,sa as Y,u as c,v as l,wa as q,xa as Q,ya as G}from"./chunk-IP4MSLQ3.js";import{a as A,b as F,d as u}from"./chunk-U3NIYLHF.js";var I=(()=>{class n{constructor(e,t){this.authService=e,this.router=t}canActivate(){return this.authService.isAuthenticated().pipe(H(1),j(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static{this.\u0275fac=function(t){return new(t||n)(h(b),h(v))}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Oe(n,E){if(n&1&&(i(0,"div",22),a(1),r()),n&2){let e=p(2);f("ngClass",e.messageType),g(),W(" ",e.message," ")}}function Pe(n,E){if(n&1){let e=w();i(0,"div",23)(1,"button",24),m("click",function(){c(e);let o=p(2);return l(o.resendVerification())}),a(2," Resend Verification Email "),r()()}}function Se(n,E){if(n&1){let e=w();i(0,"div")(1,"form",5),m("ngSubmit",function(){c(e);let o=p();return l(o.login())}),i(2,"div",6),d(3,"img",7),i(4,"h1",8),a(5,"Human Resource "),d(6,"br"),a(7," Management Office"),r()(),d(8,"hr",9),C(9,Oe,2,2,"div",10),i(10,"div",11)(11,"input",12),L("ngModelChange",function(o){c(e);let s=p();return T(s.email,o)||(s.email=o),l(o)}),r(),i(12,"label",13),a(13,"Email address"),r()(),i(14,"div",14)(15,"input",15),L("ngModelChange",function(o){c(e);let s=p();return T(s.password,o)||(s.password=o),l(o)}),r(),i(16,"label",16),a(17,"Password"),r(),i(18,"i",17),m("click",function(){c(e);let o=p();return l(o.togglePasswordVisibility())}),r()(),C(19,Pe,3,0,"div",18),i(20,"div",19)(21,"button",20),a(22,"Login"),r(),d(23,"br"),i(24,"a",21),m("click",function(){c(e);let o=p();return l(o.resetPassword())}),a(25,"Forgot Password?"),r()()()()}if(n&2){let e=p();g(9),f("ngIf",e.message),g(2),V("ngModel",e.email),g(4),f("type",e.passwordFieldType),V("ngModel",e.password),g(3),f("ngClass",e.passwordFieldType==="password"?"fa-eye":"fa-eye-slash"),g(),f("ngIf",e.showResendButton)}}var xe=(()=>{class n{constructor(e,t){this.authService=e,this.router=t,this.email="",this.password="",this.passwordFieldType="password",this.isLoginView=!0,this.message="",this.messageType="",this.showResendButton=!1}login(){return u(this,null,function*(){if(this.email=this.email.trim(),this.password=this.password.trim(),!this.email||!this.password){this.message="Email and password must not be empty",this.messageType="error";return}if(!this.isValidEmail(this.email)){this.message="Invalid email format",this.messageType="error";return}try{let e=yield this.authService.login(this.email,this.password);e.success?this.router.navigate(["/dashboard/employee-info"]):(this.message=e.message,this.messageType="error",this.showResendButton=e.message.includes("verify"))}catch(e){this.message=e.message,this.messageType="error",console.error("Login failed",e)}})}resendVerification(){return u(this,null,function*(){try{let e=yield this.authService.resendVerificationEmail();this.message=e.message,this.messageType=e.success?"success":"error"}catch(e){this.message=e.message,this.messageType="error",console.error("Failed to resend verification email",e)}})}resetPassword(){return u(this,null,function*(){if(!this.isValidEmail(this.email)){this.message="Enter a valid email to reset password",this.messageType="error";return}try{let e=yield this.authService.resetPassword(this.email);this.message=e.message,this.messageType=e.success?"success":"error"}catch(e){this.message=e.message,this.messageType="error",console.error("Password reset failed",e)}})}togglePasswordVisibility(){this.passwordFieldType=this.passwordFieldType==="password"?"text":"password"}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static{this.\u0275fac=function(t){return new(t||n)(x(b),x(v))}}static{this.\u0275cmp=_({type:n,selectors:[["app-login"]],decls:5,vars:1,consts:[[1,"vh-100"],[1,"container","h-100","w-25"],[1,""],[1,"form-col","bg-white","bg-opacity-50"],[4,"ngIf"],[1,"",3,"ngSubmit"],[1,"d-flex","justify-content-center","px-5","mx-2"],["src","hau.ico","alt","Holy Angel University Logo",1,"img-fluid",2,"width","35%"],[1,"text-center","my-auto"],[1,"text-dark"],["class","verification-message",3,"ngClass",4,"ngIf"],[1,"form-group"],["type","email","id","email","placeholder"," ","name","email","required","",3,"ngModelChange","ngModel"],["for","email"],[1,"form-group","password-group"],["id","password","placeholder"," ","name","password","required","",3,"ngModelChange","type","ngModel"],["for","password"],[1,"toggle-password","fas",3,"click","ngClass"],["class","text-center mb-2",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","login-btn","mb-3"],["href","#",3,"click"],[1,"verification-message",3,"ngClass"],[1,"text-center","mb-2"],["type","button",1,"btn-link",3,"click"]],template:function(t,o){t&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),C(4,Se,26,6,"div",4),r()()()()),t&2&&(g(4),f("ngIf",o.isLoginView))},dependencies:[U,Y,ee,Z,$,J,te,X,K],styles:['.vh-100[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:space-between;background-repeat:no-repeat;background-size:cover;background-image:linear-gradient(#0006,#0006),url(/holy.jpg)}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;align-items:center}.row[_ngcontent-%COMP%]{display:flex;max-width:2000px;width:200%}.image-col[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}.image-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:100%}.form-col[_ngcontent-%COMP%]{white-space:nowrap;flex:1;padding:50px;border-radius:5%}.lead[_ngcontent-%COMP%]{font-size:1.25rem}.social-signin[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:20px}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin:20px 0}.divider[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 10px;font-weight:700;color:#666}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background-color:#eee}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:8px;border:1px solid #ccc;border-radius:4px;outline:none;transition:border-color .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#000}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:12px;top:18px;font-size:.85rem;color:#000;pointer-events:none;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{top:-8px;left:10px;font-size:.75rem;color:#000}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:15px 0}.forgot-password[_ngcontent-%COMP%]{color:#676767;text-decoration:none}.login-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:maroon;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.login-btn[_ngcontent-%COMP%]:hover{background-color:#b8860b}.register[_ngcontent-%COMP%]{margin-top:15px;text-align:center;display:flex;justify-content:center}.register-link[_ngcontent-%COMP%]{text-decoration:none;background:none;color:#000;cursor:pointer;transition:all .3s ease;font-weight:700}.password-group[_ngcontent-%COMP%]{position:relative}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer;color:#000;font-size:1rem}.verification-message[_ngcontent-%COMP%]{padding:10px;margin:10px 0;text-align:center;border-radius:4px;font-size:.9rem}.verification-message.error[_ngcontent-%COMP%]{background-color:#8000201a;color:#800020;border:1px solid rgba(128,0,32,.2)}.verification-message.success[_ngcontent-%COMP%]{background-color:#cca43b1a;color:#cca43b;border:1px solid rgba(204,164,59,.2)}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#800020;text-decoration:underline;cursor:pointer;padding:0;font-size:.9rem}.btn-link[_ngcontent-%COMP%]:hover{color:#cca43b}']})}}return n})();var ke=["accountContainer"];function Ee(n,E){if(n&1){let e=w();i(0,"div",21)(1,"a",22),m("click",function(){c(e);let o=p();return l(o.openAccountSettings())}),a(2,"Account Settings"),r(),i(3,"a",22),m("click",function(){c(e);let o=p();return l(o.logout())}),a(4,"Logout"),r()()}}var Ce=(()=>{class n{constructor(e,t){this.router=e,this.authService=t,this.collapsed=!1,this.screenWidth=0,this.showAccount=!1}toggleAccount(e){e.stopPropagation(),this.showAccount=!this.showAccount}onboard(){this.router.navigate(["/dashboard/onboard"])}offboard(){this.router.navigate(["/dashboard/offboard"])}openAccountSettings(){console.log("Open Account Settings")}logout(){return u(this,null,function*(){yield this.authService.logout()})}homepage(){this.router.navigate(["/home"])}closePopups(e){this.accountContainer&&(this.accountContainer.nativeElement.contains(e.target)||(this.showAccount=!1))}static{this.\u0275fac=function(t){return new(t||n)(x(v),x(b))}}static{this.\u0275cmp=_({type:n,selectors:[["app-home"]],viewQuery:function(t,o){if(t&1&&D(ke,5),t&2){let s;z(s=B())&&(o.accountContainer=s.first)}},hostBindings:function(t,o){t&1&&m("click",function(O){return o.closePopups(O)},!1,N)},inputs:{collapsed:"collapsed",screenWidth:"screenWidth"},decls:39,vars:1,consts:[["accountContainer",""],[1,"vh-100"],[1,"wrapper"],[1,"account-info",3,"click"],[1,"fas","fa-user-cog","account-icon"],[1,"account-name"],["class","account-popup",4,"ngIf"],[1,"header-content"],["src","hau.ico","alt","HR Logo",1,"logo"],[1,"nav-bar"],[1,"menu"],["routerLink","/home"],["routerLink","/dashboard"],[1,"main-content"],[1,"intro"],[1,"features"],[1,"feature"],["src","onboarding.jpg","alt","Onboarding Icon",2,"width","310px","height","auto"],[1,"button",2,"display","block","margin-top","1rem","background-color","#800020","color","white","padding","10px 20px","text-align","center","border-radius","20px","text-decoration","none",3,"click"],["src","offboarding.jpg","alt","Offboarding Icon",2,"width","310px","height","auto"],[1,"sticky-0"],[1,"account-popup"],[3,"click"]],template:function(t,o){if(t&1){let s=w();i(0,"section",1)(1,"div",2)(2,"header")(3,"div",3,0),m("click",function(Me){return c(s),l(o.toggleAccount(Me))}),d(5,"i",4),i(6,"span",5),a(7,"HR User"),r(),C(8,Ee,5,0,"div",6),r(),i(9,"div",7),d(10,"img",8),i(11,"h1"),a(12,"Human Resource Management Office"),r()(),i(13,"nav")(14,"ul",9)(15,"span",10)(16,"li")(17,"a",11),a(18,"Home"),r()(),i(19,"li")(20,"a",12),a(21,"Dashboard"),r()()()()()(),i(22,"main")(23,"div",13)(24,"section",14)(25,"p"),a(26,"The Holy Angel University HR Onboarding and Offboarding System streamlines employee transitions by automating onboarding and offboarding processes. Designed specifically for HR, it features real-time analytics, secure task management, and compliance with local regulations. The system reduces administrative work, enhances efficiency, and ensures a smooth experience for both new hires and departing employees."),r()(),i(27,"section",15)(28,"div",16),d(29,"img",17),i(30,"a",18),m("click",function(){return c(s),l(o.onboard())}),a(31,"Onboarding"),r()(),i(32,"div",16),d(33,"img",19),i(34,"a",18),m("click",function(){return c(s),l(o.onboard())}),a(35,"Offboarding"),r()()()()(),i(36,"footer",20)(37,"p"),a(38,"\xA9 2024 HR Department. All Rights Reserved."),r()()()()}t&2&&(g(8),f("ngIf",o.showAccount))},styles:[".vh-100[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:space-between}.container[_ngcontent-%COMP%]{width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]{background:#800020;color:#fff;padding:1rem 0;text-align:center}.main-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center}img[_ngcontent-%COMP%]{max-width:100%;height:auto}header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.header-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:200px;height:100%;margin-bottom:.5rem}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.nav[_ngcontent-%COMP%]{text-decoration:none;color:#000;padding:10px 0;border-radius:20px;font-weight:700;transition:background-color .3s ease;display:flex;align-items:flex;list-style:none;position:relative;z-index:1000;transition:top .3s ease-in-out}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;justify-content:center;gap:1.5rem}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px;display:inline}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 60px;border-radius:20px;color:#fff;cursor:pointer;font-weight:700;text-decoration:none;transition:background .3s ease}.nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-decoration:underline}.nav-bar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.intro[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem;background-color:#fff;line-height:1.8}.intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;font-size:1.2rem}.features[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20rem;padding:3rem;background-color:#fff}.feature[_ngcontent-%COMP%]{text-align:center}.feature[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto;margin-bottom:.5rem}.feature[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#800020;font-size:1.2rem;border:none;border-radius:20px;text-align:center;cursor:pointer;transition:all .3s ease;text-decoration:none;font-weight:700}.button[_ngcontent-%COMP%]:hover{background:#000;transform:scale(1.05)}footer[_ngcontent-%COMP%]{text-align:center;background:linear-gradient(to right,#cca43b,#800020);color:#fff;font-weight:700;padding:1rem;height:100px}.account-info[_ngcontent-%COMP%]{font-weight:700;position:absolute;right:20px;display:flex;align-items:center;cursor:pointer;font-size:30px}.account-info[_ngcontent-%COMP%]:hover{color:#7c7c7c}.account-icon[_ngcontent-%COMP%]{width:65px}.account-popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;border:1px solid #dcdcdc;box-shadow:0 4px 8px #0000001a;padding:10px;width:200px;z-index:1000;font-size:14px;color:#000;border-radius:5px;transition:all .2s ease-in-out}"]})}}return n})();var Ae=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",loadChildren:()=>import("./chunk-NFH43PBO.js").then(n=>n.LayoutModule),canActivate:[I]},{path:"login",component:xe},{path:"employee-info",component:de},{path:"offboard",component:pe},{path:"home",component:Ce,canActivate:[I]}],we=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=k({type:n})}static{this.\u0275inj=S({imports:[M.forRoot(Ae),M]})}}return n})();var ve=(()=>{class n{constructor(){this.title="WebApplicationHR"}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=_({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,o){t&1&&d(0,"router-outlet")},dependencies:[ie]})}}return n})();var be=(()=>{class n{constructor(e,t){this.firestore=e,this.auditLogService=t,this.collectionName="employees"}getOnboardedEmployees(){return this.firestore.collection(this.collectionName,e=>e.where("status","==","Active")).valueChanges({idField:"id"})}getOffboardedEmployees(){return this.firestore.collection(this.collectionName,e=>e.where("status","==","Offboarded")).valueChanges({idField:"id"})}getAllEmployees(){return this.firestore.collection(this.collectionName).valueChanges({idField:"id"})}onboardEmployee(e){return u(this,null,function*(){try{let t=F(A({},e),{status:"Active",onboardingDate:new Date}),o=yield this.firestore.collection(this.collectionName).add(t);return yield this.firestore.collection("onboarding").doc(o.id).set(A({employeeId:o.id},t)),yield this.auditLogService.logAction("ONBOARD_EMPLOYEE",`New employee added: ${o.id}`,"Successful"),{success:!0,employeeId:o.id}}catch(t){throw yield this.auditLogService.logAction("ONBOARD_EMPLOYEE",`Failed: ${t.message}`,"Failed"),t}})}updateEmployee(e,t){return u(this,null,function*(){try{yield this.firestore.collection(this.collectionName).doc(e).update(t),yield this.auditLogService.logAction("UPDATE_EMPLOYEE",`Updated: ${e}`,"Successful")}catch(o){throw yield this.auditLogService.logAction("UPDATE_EMPLOYEE",`Failed: ${o.message}`,"Failed"),o}})}static{this.\u0275fac=function(t){return new(t||n)(h(se),h(le))}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ye=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=k({type:n,bootstrap:[ve,oe]})}static{this.\u0275inj=S({providers:[be,me,ge,he],imports:[G,we,ne,re.initializeApp(fe.firebase),ae,ce,ue,M,q]})}}return n})();Q().bootstrapModule(ye,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
